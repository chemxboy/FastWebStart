/*///////////////////////////////////////////////////////////////////////////////////////////////////////
///// Code mixing by Molokoloco ..... 2010 ......... [EVER IN PROGRESS (it's not done yet)]  ///////////
////  SOURCES here : https://github.com/molokoloco/FastWebStart/                            ///////////
////  My WIKI here : http://code.google.com/p/molokoloco-coding-project/wiki/WikiMenu      /////////// 
////////////////////////////////////////////////////////////////////////////////////////////////// */
var db=function(){"console"in window&&console.log.call(console,arguments)},die=function(a){throw a?a:"Oh my god moonWalker is down...";},trim=function(a){return a.replace(/^\s+|\s+$/g,"")},escapeURI=function(a){return encodeURIComponent?encodeURIComponent(a):encodeURI?encodeURI(a):escape?escape(a):a},event2key={"97":"a","98":"b","99":"c","100":"d","101":"e","102":"f","103":"g","104":"h","105":"i","106":"j","107":"k","108":"l","109":"m","110":"n","111":"o","112":"p","113":"q","114":"r","115":"s","116":"t", "117":"u","118":"v","119":"w","120":"x","121":"y","122":"z"},pad=function(a){return a<10?"0"+a:a},addslashes=function(a){return(a+"").replace(/\'/g,"\\'").replace(/"/g,"&quot;").replace(/\u0000/g,"\\0")},input2html=function(a){return unescape(a+"").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")},getUrlVars=function(){var a={};window.location.href.replace(/[?&]+([^=&]+)=([^&]*)/gi,function(b,c,d){a[c]=d});return a},objSortByTitle=function(a,b){var c=a.title.toLowerCase(),d=b.title.toLowerCase(); return c<d?-1:c>d?1:0},loadJs=function(a){var b=document.createElement("script");b.setAttribute("type","text/javascript");b.setAttribute("src",a);document.getElementsByTagName("head")[0].appendChild(b)},loadCss=function(a){$("head").append('<link rel="stylesheet" type="text/css" href="'+a+'"/>')},getScript=function(a,b){$.ajax({dataType:"script",async:false,cache:true,url:a,success:function(){b&&typeof b=="function"&&b()}})},yTics=function(){try{_gat._getTracker("UA-1944677-8")._trackPageview()}catch(a){}}, uservoiceOptions={key:"b2bweb",host:"b2bweb.uservoice.com",forum:"35888",showTab:true,alignment:"right",background_color:"#1395B8",text_color:"white",hover_color:"#41608F",lang:"fr"}; (function(a){a.extend(jQuery.easing,{easeInOutCirc:function(b,c,d,f,e){if((c/=e/2)<1)return-f/2*(Math.sqrt(1-c*c)-1)+d;return f/2*(Math.sqrt(1-(c-=2)*c)+1)+d},easeInQuad:function(b,c,d,f,e){return f*(c/=e)*c+d}});a.fn.extend({selectRange:function(b,c){var d=document.getElementById(a(this).attr("id"));if(d)if(d.setSelectionRange){d.focus();d.setSelectionRange(b,c)}else if(d.createTextRange){d=d.createTextRange();d.collapse(true);d.moveEnd("character",c);d.moveStart("character",b);d.select()}else if(d.selectionStart){d.selectionStart= b;d.selectionEnd=c}},center:function(){return this.each(function(){var b=(a(window).height()-a(this).outerHeight())/2,c=(a(window).width()-a(this).outerWidth())/2;a(this).css({position:"absolute",margin:0,top:(b>20?b:20)+"px",left:(c>0?c:0)+"px"})})},styleSwitch:function(b){var c=false,d=[];a("link[@rel*=style][id]").each(function(){if(b==a(this).attr("href")){a(this).removeAttr("disabled");c=true}else d.push(this)});c==false&&a("head").append('<link rel="stylesheet" type="text/css" href="'+b+'" id="theme'+ Math.random()+'"/>');setTimeout(function(){a(d).each(function(){a(this).attr("disabled","disabled")})},900);a.cookie("css",b,{expires:365,path:"/"})},styleInit:function(){if(a.cookie("css")){var b=false;a("link[rel*=style][id]").each(function(){if(a.cookie("css")==a(this).attr("href"))b=true});b==false&&a.fn.styleSwitch(a.cookie("css"))}return a(this).click(function(c){c.preventDefault();a.fn.styleSwitch(a(this).attr("rel"));a(this).blur()})}})})(jQuery); var WWW=/localhost\//.test(document.location)?"http://localhost/www.b2bweb.fr/home/":"http://home.b2bweb.fr/",foxAnim=true,toStock=true,startAnime=true,once=false,expressionFilled=false,intr=null,coef=0,dist=0,count=0,o=0,y=0,one=0,target="input",isAutocomplete=false,initSites=function(){editButton(true);setUlCol(true);posItem();rdmSites();initSitesLinkDefaultEvent()},editSites=function(a){a&&a.preventDefault();editButton(false);removeSitesLinkDefaultEvent();if(typeof startEditMode!="function"){loadCss("css/start/jquery-ui-1.8.custom.css"); getScript(WWW+"js/jquery-ui-1.8.sortableDialog.min.js");getScript(WWW+"js/jquery.edit.min.js",function(){startEditMode()})}else startEditMode();return false},setDatas=function(a){var b="js/sitesDatas.js.php";switch(a){case "code":b="js/sitesDatas-code.js";break;case "twitter":b="js/sitesDatas-twitter.js"}getScript(WWW+b,function(){buildSites();initSites()});document.location.hash=a||"";highlightMenu();return false},buildSites=function(){var a=SITES.length,b=Math.floor(a/2),c="",d="",f="",e;for(e in SITES){c= '<li class="sortLinkCat"><h3>'+SITES[e].title+"</h3></li>";f="";for(var h in SITES[e].data){var g=SITES[e].data[h];if(g.href&&g.title)f+='<li class="sortLink"><a href="'+g.href+'" rel="'+(g.result||"")+'" title="'+(g.tips||"")+'" class="l">'+g.title+"</a></li>"}d+=parseInt(e)+1<=b?'<li><ul class="sortUlLink">'+f+c+"</ul></li>":'<li><ul class="sortUlLink">'+c+f+"</ul></li>";if(parseInt(e)+1==b){$("#D1").html('<ul id="L1" class="sortUlCat">'+d+"</ul>");d=""}else parseInt(e)+1==a&&$("#D2").html('<ul id="L2" class="sortUlCat">'+ d+"</ul>")}},highlightMenu=function(){var a=document.location.hash||"home";$("div#menu a").removeClass("bold");$("div#menu a#"+a).addClass("bold")},setUlCol=function(a){var b=$("#SearchBot").width(),c=SITES.length,d=Math.floor(c/2),f=Math.floor(b/d);b=Math.floor(b/(c-d));$("ul#L1 ul.sortUlLink").css({width:f+"px"});$("ul#L1 ul.sortUlLink li").css({width:f+"px"});$("ul#L2 ul.sortUlLink").css({width:b+"px"});$("ul#L2 ul.sortUlLink li").css({width:b+"px"});var e=$("ul#L1").height();$("ul#L1 li ul.sortUlLink").each(function(){if(a){var h= e-$(this).height();$(this).find("li:first").css({margin:h+"px 0 0 0"})}else $(this).find("li:first").css({margin:"0"})})},posItem=function(){var a=$(window).height(),b=$(window).width(),c=$("div#SearchBot").height(),d=$("div#SearchBot").width();a<c||b<d?$("body").css({overflow:"auto"}):$("body").css({overflow:"hidden"});$("div#SearchBot").center();$("div#prefs").center();$("div#info").center()},searchInit=function(){var a=getUrlVars().searcher;if(a&&/(home\.b2bweb\.fr)/.test(a))window.document.location.href= "http://fr.wiktionary.org/wiki/".escape(getUrlVars().q);$("select#searcher")[0].selectedIndex=0;$("input#q").attr({autocomplete:"off"});$("input#q").focus(function(){$(this).css({"background-color":"#FFFFFF"})}).blur(function(){$(this).css({"background-color":"#D6ECFC"})});$("form#f").bind("submit",function(){var b=$("input#q").val();addStock(b)})},rdmSites=function(){var a=Math.round(Math.random()*$("a.l").length);$("a.l").eq(a).addClass("hightlight2")},editButton=function(a){if($.browser.msie)$("span#editmode").html("Nous avons d\u00e9tect\u00e9 que vous utilisez Internet Explorer :-( | "); else a?$("span#editmode").html('<a href="javascript:void(0);" onclick="editSites();" title="Editer les liens de cette page (Connexion avec Facebook, pour sauvegarder)">Editer</a> | '):$("span#editmode").html('<a href="javascript:void(0);" onclick="quitEditMode();" title="Effacer les modifications sans enregistrer">Quitter mode &eacute;dition</a> | ')},removeSitesLinkDefaultEvent=function(){$("a.l").unbind("click",autoFill);$("input#q").unbind("keyup",letterHide);$("select#searcher").unbind("change", searchBot);$(document).unbind("keypress",highLight)},initSitesLinkDefaultEvent=function(){$("a.l").live("click",autoFill);$("input#q").bind("keyup",letterHide);$("select#searcher").bind("change",searchBot);$(document).bind("keypress",highLight)},focusSearch=function(a){if(startAnime){startAnime=false;$("input#q").focus();if(foxAnim=="1")$("div#foxy").animate({top:0,left:a.pageX-120,opacity:1},1E3,function(){intr=setInterval(function(){coef+=0.06;o=0.4+Math.abs(Math.cos(coef)*0.6);y=-dist+Math.abs(Math.cos(coef)* dist);$("div#foxy").css({top:y+"px",opacity:o});$("div#footerBg").css({opacity:o});if(count>=222){clearInterval(intr);$("div#foxy").stop(true,true);$("div#foxy").animate({top:"-"+$("div#foxy").height()+"px",opacity:0},function(){startAnime=true;count=0});$("div#footerBg").css({opacity:0.8})}else if(count%parseInt(Math.random()*20)==0)dist=Math.abs(Math.cos(count/100))*10;count++},50)});else{$("div#foxy").hide();$("div#foxy").css({top:0})}}else if(foxAnim&&!$("div#foxy").is(":animated")){a=(a.pageX|| 360)-120;var b=$(window).width()/2-120;if(a<b){a+=b;if(a>$(window).width()-250)a=$(window).width()-240}else{a-=b;if(a<0)a=0}$("div#foxy").animate({left:a},{duration:1400,easing:"easeInQuad"});count=0}},toggleFoxy=function(){if(foxAnim=$.cookie("foxy")=="no"?true:false){$("div#foxy").show();$(document).trigger("mousemove")}else $("div#foxy").hide();$.cookie("foxy",foxAnim?"yes":"no",{expires:365,path:"/"});$("a#toggleFoxy").html(foxAnim?"Masquer":"Afficher")},highLight=function(a){if(target=="input"&& $("input#q").val().length>=1&&one==0){one=1;$(".l").each(function(){$(this).attr("class","l")})}else if(target=="input"&&$("input#q").val().length<1&&one==1)one=0;one==0&&$(".l").each(function(){event2key[a.which]!=""&&$(this).text().charAt(0).toLowerCase()==event2key[a.which]?$(this).attr("class","l hightlight"):$(this).attr("class","l")});if(a.keyCode==27){$("div#info,div#prefs").hide();$("div#divEdit").is(":visible")&&$("div#divEdit").dialog("close")}},docClick=function(a){!$(a.target).is("a#preferences")&& !$(this).parents().is("div#prefs")&&$("div#prefs").hide();!$(a.target).is("a#aide")&&!$(this).parents().is("div#info")&&$("div#info").hide()},loadStock=function(){if($.cookie("toStock")!="no"){var a=null,b="";if(a=$.cookie("search")){a=a.split("##");$.each(a,function(c,d){if(d){var f=input2html(d),e=addslashes(f);b+='<span id="term_'+c+'"><a href="javascript:void(0)" onclick="$(\'input#q\').val(\''+e+'\').focus();" class="lien2">'+f+'</a><a href="javascript:void(0)" onclick="removeStock(\''+d+"', '"+ c+'\');" title="Effacer">&#10006;</a>, </span>'}})}if(b!=""){$("div#searhTerms").html(b);a=$("div#searhTerms").find("span:last");a.html(a.html().substr(0,a.html().length-2))}}},addStock=function(a){if(!(!a||$.cookie("toStock")=="no")){a=escape(a);var b=null,c=false;if(b=$.cookie("search")){b=b.split("##");$.each(b,function(d,f){if(f==a)c=true})}c||$.cookie("search",b?a+"##"+$.cookie("search"):a,{expires:365,path:"/"});loadStock()}},removeStock=function(a,b){var c=null;if(c=$.cookie("search")){c=c.split("##"); var d=[];$.each(c,function(f,e){e&&e!=a&&d.push(e)});$.cookie("search",d.join("##"),{expires:365,path:"/"})}$("span#term_"+b).remove()},toggleStock=function(){if(toStock=$.cookie("toStock")=="no"?true:false){loadStock();$("div#searhTerms").show()}else{$.cookie("search","",{expires:365,path:"/"});$("div#searhTerms").hide()}$.cookie("toStock",toStock?"yes":"no",{expires:365,path:"/"});$("a#toggleStock").html(toStock?"Oublier":"Retenir")},autoFill=function(){target="page";one=0;$(this).blur();if($("input#q").val()!= ""&&$(this).attr("rel")&&$(this).attr("rel").indexOf("{R}")!=-1){var a=$("input#q").val();addStock(a);a=escapeURI(a);return!window.open($(this).attr("rel").replace(/{R}/g,a))}},initAutocomplete=function(){isAutocomplete=true;$("input#q").autocomplete({suggestUrl:WWW+"_google_suggest.php",seedsUrl:WWW+"_veryrelated.php",minChars:1,delimiter:/(,|\+|-|AND)\s*/,autoSubmit:false,maxHeight:600,deferRequestBy:0})},letterHide=function(){isAutocomplete||initAutocomplete();target="input";if($("input#q").val()== ""&&once)once=false;if(!once)if($("input#q").val()!=""){once=true;$(".l").each(function(){$(this).attr("rel")||$(this).fadeTo("slow",0.2)})}else $(".l").each(function(){$(this).attr("rel")||$(this).fadeTo("slow",1)})},searchBot=function(){$("form#f").attr("action","http://www.google.fr/search");var a=$("input#searcher option:selected").val();if(a=="")$("input#q").val("");else{if(a.indexOf("|")>=0){a=a.split("|");$("form#f").attr("action",a[0]);a=a[1]}if(!expressionFilled&&$("input#q").val()!=""&& (a=="{mot}"||a=="{tag}")){$("input#q").selectRange(0,$("input#q").val().length+1);expressionFilled=false}else{$("input#q").val(a);$("input#q").selectRange(a.indexOf("{"),a.indexOf("}")+1);expressionFilled=true}}},createAccount=function(){},clock=function(){var a=new Date;$("span#heure").html(pad(a.getHours())+":"+pad(a.getMinutes())+":"+pad(a.getSeconds()))},timer=function(){setInterval(clock,1E3)}; $(document).ready(function(){$("a.css").styleInit();highlightMenu();searchInit();if($.cookie("foxy"))foxAnim=$.cookie("foxy")=="yes"?true:false;$(document).mousemove(focusSearch);$(document).bind("click",docClick);$(window).bind("resize",posItem);switch(document.location.hash){case "#code":setDatas("code");break;case "#twitter":setDatas("twitter");break;default:buildSites();document.location.hash=="#editmode"?editSites():initSites()}timer();loadStock()});